Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=50000
Job stats:
job                  count
-----------------  -------
all                      1
cleanAndFilterVCF        1
compareSVsPrimary        1
total                    3

Select jobs to execute...

[Wed Feb 26 21:55:08 2025]
rule compareSVsPrimary:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56.primary.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212.primary.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238.primary.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200.primary.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205.primary.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs1_compto5.vcf
    jobid: 2
    reason: Forced execution
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56.primary.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212.primary.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238.primary.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200.primary.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205.primary.snf       --vcf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs1_compto5.vcf       --reference /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.scaffold_chr_only.fa       --phase       --threads 16
  
[Wed Feb 26 21:55:14 2025]
Finished job 2.
1 of 3 steps (33%) done
Select jobs to execute...

[Wed Feb 26 21:55:14 2025]
rule cleanAndFilterVCF:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs1_compto5.vcf
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs_filtered.vcf
    jobid: 1
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs1_compto5.vcf
    resources: tmpdir=/tmp


    sed "s/GT:GQ:DR:DV:PS:ID/GT:GQ:DR:DV:ID/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs1_compto5.vcf > temp_cleaned.vcf
    bgzip temp_cleaned.vcf -k
    bcftools index temp_cleaned.vcf.gz
    bcftools view -i '(GT[0]=="0/0" && GT[1]=="0/0") && ((GT[2]=="0/1" || GT[2]=="1/0" || GT[2]=="1/1") && (GT[3]=="0/1" || GT[3]=="1/0" || GT[3]=="1/1") && (GT[4]=="0/1" || GT[4]=="1/0" || GT[4]=="1/1"))' temp_cleaned.vcf.gz -Ov -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs_filtered.vcf
    rm temp_cleaned*
  
[Wed Feb 26 21:55:17 2025]
Finished job 1.
2 of 3 steps (67%) done
Select jobs to execute...

[Wed Feb 26 21:55:17 2025]
localrule all:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs_filtered.vcf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56/horse_04_56.scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212/horse_06_1212.scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238/horse_03_238.scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200.scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205/horse_02_205.scaffold_chr_only.fa
    jobid: 0
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/primarySVs_filtered.vcf
    resources: tmpdir=/tmp

[Wed Feb 26 21:55:17 2025]
Finished job 0.
3 of 3 steps (100%) done
Complete log: .snakemake/log/2025-02-26T215506.205511.snakemake.log
