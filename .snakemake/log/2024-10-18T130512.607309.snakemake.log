Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=50000
Job stats:
job                                    count
-----------------------------------  -------
alignToChainOfGenomes                      5
alignToReference                           6
all                                        1
changeNCtoChr                              6
correct                                    3
makeGenomeFileForPlotSR                    6
plotStructuralRearrangement                6
plotStructuralRearrangementCombined        1
removeRagTag                               6
sameChrNames                               6
scaffold                                   6
syntenyAnalysis                            6
syntenyAnalysisForCombined                 5
total                                     63

Select jobs to execute...

[Fri Oct 18 13:05:14 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.scaffold.fasta
    jobid: 54
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.correct.fasta
    wildcards: sample=horse_01_200
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    ragtag.py scaffold       -u       -o horse_01_200       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.correct.fasta
  
[Fri Oct 18 13:05:56 2024]
Finished job 54.
1 of 63 steps (2%) done
Select jobs to execute...

[Fri Oct 18 13:05:56 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta
    jobid: 53
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.scaffold.fasta
    wildcards: sample=horse_01_200
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta
  

[Fri Oct 18 13:05:56 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205/ragtag.correct.fasta
    jobid: 82
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205/ragtag.correct.fasta
    wildcards: sample=horse_02_205
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    ragtag.py correct       -u       -o horse_02_205       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.p_ctg.fa
  
[Fri Oct 18 13:05:56 2024]
Finished job 53.
2 of 63 steps (3%) done
Select jobs to execute...

[Fri Oct 18 13:05:56 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_scaffold_chr.fa
    jobid: 52
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta
    wildcards: sample=horse_01_200
    resources: tmpdir=/tmp


    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200name=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_01_200name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_scaffold_chr.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Fri Oct 18 13:05:56 2024]
Error in rule sameChrNames:
    jobid: 52
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_scaffold_chr.fa
    shell:
        
    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200name=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_01_200name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_scaffold_chr.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job sameChrNames since they might be corrupted:
/group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200/horse_01_200_scaffold_chr.fa
[Fri Oct 18 13:23:07 2024]
Finished job 82.
3 of 63 steps (5%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-10-18T130512.607309.snakemake.log
