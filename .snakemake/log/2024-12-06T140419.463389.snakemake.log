Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=50000
Job stats:
job                      count
---------------------  -------
alignToChainOfGenomes        2
alignToFirstControl         12
all                          1
changeNCtoChr               12
changeNCtoChrPrimary         1
compareSVs                   1
convertSamToBam             12
correct                      6
correctPrimary               1
findSVs                     12
indexBam                    12
plotSVs                      1
removeRagTag                12
removeRagTagPrimary          1
sameChrNames                12
sameChrNamesPrimary          1
scaffold                    12
scaffoldPrimary              1
sortBam                     12
total                      124

Select jobs to execute...

[Fri Dec  6 14:04:28 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta
    jobid: 138
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_01_200.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta
  
[Fri Dec  6 14:20:36 2024]
Finished job 138.
1 of 124 steps (1%) done
Select jobs to execute...

[Fri Dec  6 14:20:36 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta
    jobid: 137
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta
  

[Fri Dec  6 14:20:36 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta
    jobid: 68
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_05_608.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta
  
[Fri Dec  6 14:20:50 2024]
Finished job 137.
2 of 124 steps (2%) done
Select jobs to execute...

[Fri Dec  6 14:20:50 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa
    jobid: 136
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp


    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200name=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_01_200name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Fri Dec  6 14:22:22 2024]
Finished job 136.
3 of 124 steps (2%) done
Select jobs to execute...

[Fri Dec  6 14:22:22 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_ref_chr_only.fa
    jobid: 135
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_ref_chr_only.fa
    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200chr=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_01_200nc=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_01_200nc}/${horse_01_200chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Fri Dec  6 14:29:26 2024]
Finished job 135.
4 of 124 steps (3%) done
Select jobs to execute...
[Fri Dec  6 14:36:33 2024]
Finished job 68.
5 of 124 steps (4%) done

[Fri Dec  6 14:36:34 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta
    jobid: 67
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta
  

[Fri Dec  6 14:36:34 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta
    jobid: 98
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_06_1212.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_06_1212.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta
  
[Fri Dec  6 14:36:48 2024]
Finished job 67.
6 of 124 steps (5%) done
Select jobs to execute...

[Fri Dec  6 14:36:48 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa
    jobid: 66
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp


    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608name=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_05_608name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Fri Dec  6 14:37:30 2024]
Finished job 66.
7 of 124 steps (6%) done
Select jobs to execute...

[Fri Dec  6 14:37:30 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_ref_chr_only.fa
    jobid: 65
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_ref_chr_only.fa
    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608chr=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_05_608nc=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_05_608nc}/${horse_05_608chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Fri Dec  6 14:44:40 2024]
Finished job 65.
8 of 124 steps (6%) done
Select jobs to execute...
[Fri Dec  6 14:52:29 2024]
Finished job 98.
9 of 124 steps (7%) done

[Fri Dec  6 14:52:29 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta
    jobid: 97
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta
  

[Fri Dec  6 14:52:29 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta
    jobid: 168
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_02_205.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_02_205.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta
  
[Fri Dec  6 14:52:43 2024]
Finished job 97.
10 of 124 steps (8%) done
Select jobs to execute...

[Fri Dec  6 14:52:43 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa
    jobid: 96
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp


    horse_06_1212lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_06_1212currentline=1
    while [ "$horse_06_1212currentline" -le "$horse_06_1212lines" ]
    do
      horse_06_1212name=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_06_1212name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa
      horse_06_1212currentline=$(($horse_06_1212currentline+1))
    done
  
[Fri Dec  6 14:53:23 2024]
Finished job 96.
11 of 124 steps (9%) done
Select jobs to execute...

[Fri Dec  6 14:53:23 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_ref_chr_only.fa
    jobid: 95
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_ref_chr_only.fa
    horse_06_1212lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_06_1212currentline=1
    while [ "$horse_06_1212currentline" -le "$horse_06_1212lines" ]
    do
      horse_06_1212chr=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_06_1212nc=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_06_1212nc}/${horse_06_1212chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa
      horse_06_1212currentline=$(($horse_06_1212currentline+1))
    done
  
[Fri Dec  6 15:00:16 2024]
Finished job 95.
12 of 124 steps (10%) done
Select jobs to execute...
[Fri Dec  6 15:07:51 2024]
Finished job 168.
13 of 124 steps (10%) done

[Fri Dec  6 15:07:51 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta
    jobid: 128
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_03_238.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta
  

[Fri Dec  6 15:07:51 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta
    jobid: 167
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta
  
[Fri Dec  6 15:08:04 2024]
Finished job 167.
14 of 124 steps (11%) done
Select jobs to execute...

[Fri Dec  6 15:08:04 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa
    jobid: 166
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp


    horse_02_205lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_02_205currentline=1
    while [ "$horse_02_205currentline" -le "$horse_02_205lines" ]
    do
      horse_02_205name=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_02_205name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa
      horse_02_205currentline=$(($horse_02_205currentline+1))
    done
  
[Fri Dec  6 15:09:11 2024]
Finished job 166.
15 of 124 steps (12%) done
Select jobs to execute...

[Fri Dec  6 15:09:11 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_ref_chr_only.fa
    jobid: 165
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_ref_chr_only.fa
    horse_02_205lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_02_205currentline=1
    while [ "$horse_02_205currentline" -le "$horse_02_205lines" ]
    do
      horse_02_205chr=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_02_205nc=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_02_205nc}/${horse_02_205chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa
      horse_02_205currentline=$(($horse_02_205currentline+1))
    done
  
[Fri Dec  6 15:16:23 2024]
Finished job 165.
16 of 124 steps (13%) done
Select jobs to execute...
[Fri Dec  6 15:22:29 2024]
Finished job 128.
17 of 124 steps (14%) done

[Fri Dec  6 15:22:29 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta
    jobid: 127
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta
  

[Fri Dec  6 15:22:29 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta
    jobid: 58
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_05_608.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta
  
[Fri Dec  6 15:22:43 2024]
Finished job 127.
18 of 124 steps (15%) done
Select jobs to execute...

[Fri Dec  6 15:22:43 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa
    jobid: 126
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp


    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238name=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_03_238name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Fri Dec  6 15:23:23 2024]
Finished job 126.
19 of 124 steps (15%) done
Select jobs to execute...

[Fri Dec  6 15:23:23 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_ref_chr_only.fa
    jobid: 125
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_ref_chr_only.fa
    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238chr=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_03_238nc=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_03_238nc}/${horse_03_238chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Fri Dec  6 15:30:09 2024]
Finished job 125.
20 of 124 steps (16%) done
Select jobs to execute...
[Fri Dec  6 15:38:28 2024]
Finished job 58.
21 of 124 steps (17%) done

[Fri Dec  6 15:38:28 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta
    jobid: 57
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta
  

[Fri Dec  6 15:38:28 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
    jobid: 149
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_01_200.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.hap2.p_ctg.fa
  
[Fri Dec  6 15:38:42 2024]
Finished job 57.
22 of 124 steps (18%) done
Select jobs to execute...

[Fri Dec  6 15:38:42 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa
    jobid: 56
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp


    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608name=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_05_608name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Fri Dec  6 15:39:49 2024]
Finished job 56.
23 of 124 steps (19%) done
Select jobs to execute...

[Fri Dec  6 15:39:50 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_ref_chr_only.fa
    jobid: 55
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_ref_chr_only.fa
    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608chr=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_05_608nc=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_05_608nc}/${horse_05_608chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Fri Dec  6 15:46:31 2024]
Finished job 55.
24 of 124 steps (19%) done
Select jobs to execute...
[Fri Dec  6 15:56:19 2024]
Finished job 149.
25 of 124 steps (20%) done

[Fri Dec  6 15:56:19 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta
    jobid: 148
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_01_200.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
  
[Fri Dec  6 16:10:54 2024]
Finished job 148.
26 of 124 steps (21%) done
Select jobs to execute...

[Fri Dec  6 16:10:54 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
    jobid: 79
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_04_56.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap1.p_ctg.fa
  

[Fri Dec  6 16:10:57 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta
    jobid: 147
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta
  
[Fri Dec  6 16:11:11 2024]
Finished job 147.
27 of 124 steps (22%) done
Select jobs to execute...

[Fri Dec  6 16:11:11 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa
    jobid: 146
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp


    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200name=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_01_200name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Fri Dec  6 16:11:52 2024]
Finished job 146.
28 of 124 steps (23%) done
Select jobs to execute...

[Fri Dec  6 16:11:52 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_ref_chr_only.fa
    jobid: 145
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_ref_chr_only.fa
    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200chr=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_01_200nc=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_01_200nc}/${horse_01_200chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Fri Dec  6 16:18:49 2024]
Finished job 145.
29 of 124 steps (23%) done
Select jobs to execute...
[Fri Dec  6 16:27:54 2024]
Finished job 79.
30 of 124 steps (24%) done

[Fri Dec  6 16:27:54 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta
    jobid: 78
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_04_56.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
  
[Fri Dec  6 16:42:45 2024]
Finished job 78.
31 of 124 steps (25%) done
Select jobs to execute...

[Fri Dec  6 16:42:45 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta
    jobid: 77
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta
  

[Fri Dec  6 16:42:45 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
    jobid: 119
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_03_238.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.hap1.p_ctg.fa
  
[Fri Dec  6 16:42:59 2024]
Finished job 77.
32 of 124 steps (26%) done
Select jobs to execute...

[Fri Dec  6 16:42:59 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa
    jobid: 76
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp


    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56name=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_04_56name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Fri Dec  6 16:43:41 2024]
Finished job 76.
33 of 124 steps (27%) done
Select jobs to execute...

[Fri Dec  6 16:43:41 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_ref_chr_only.fa
    jobid: 75
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_ref_chr_only.fa
    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56chr=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_04_56nc=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_04_56nc}/${horse_04_56chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Fri Dec  6 16:50:43 2024]
Finished job 75.
34 of 124 steps (27%) done
Select jobs to execute...
[Fri Dec  6 16:59:35 2024]
Finished job 119.
35 of 124 steps (28%) done

[Fri Dec  6 16:59:36 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta
    jobid: 118
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_03_238.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
  
[Fri Dec  6 17:14:24 2024]
Finished job 118.
36 of 124 steps (29%) done
Select jobs to execute...

[Fri Dec  6 17:14:24 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta
    jobid: 117
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta
  

[Fri Dec  6 17:14:24 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
    jobid: 89
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_04_56.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap2.p_ctg.fa
  
[Fri Dec  6 17:14:38 2024]
Finished job 117.
37 of 124 steps (30%) done
Select jobs to execute...

[Fri Dec  6 17:14:38 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa
    jobid: 116
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp


    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238name=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_03_238name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Fri Dec  6 17:15:20 2024]
Finished job 116.
38 of 124 steps (31%) done
Select jobs to execute...

[Fri Dec  6 17:15:20 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_ref_chr_only.fa
    jobid: 115
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_ref_chr_only.fa
    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238chr=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_03_238nc=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_03_238nc}/${horse_03_238chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Fri Dec  6 17:22:39 2024]
Finished job 115.
39 of 124 steps (31%) done
Select jobs to execute...
[Fri Dec  6 17:31:09 2024]
Finished job 89.
40 of 124 steps (32%) done

[Fri Dec  6 17:31:09 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta
    jobid: 88
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_04_56.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
  
[Fri Dec  6 17:45:45 2024]
Finished job 88.
41 of 124 steps (33%) done
Select jobs to execute...

[Fri Dec  6 17:45:45 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta
    jobid: 87
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta
  

[Fri Dec  6 17:45:45 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.correct.fasta
    jobid: 159
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf
    wildcards: sample=horse_02_205, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_02_205.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_02_205.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.hap1.p_ctg.fa
  
[Fri Dec  6 17:46:00 2024]
Finished job 87.
42 of 124 steps (34%) done
Select jobs to execute...

[Fri Dec  6 17:46:00 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa
    jobid: 86
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp


    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56name=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_04_56name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Fri Dec  6 17:46:46 2024]
Finished job 86.
43 of 124 steps (35%) done
Select jobs to execute...

[Fri Dec  6 17:46:47 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_ref_chr_only.fa
    jobid: 85
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_ref_chr_only.fa
    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56chr=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_04_56nc=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_04_56nc}/${horse_04_56chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Fri Dec  6 17:54:07 2024]
Finished job 85.
44 of 124 steps (35%) done
Select jobs to execute...
[Fri Dec  6 18:02:40 2024]
Finished job 159.
45 of 124 steps (36%) done

[Fri Dec  6 18:02:40 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.correct.fasta
    jobid: 109
    reason: Updated input files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf
    wildcards: sample=horse_06_1212, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_06_1212.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_06_1212.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.hap2.p_ctg.fa
  
[Fri Dec  6 18:20:31 2024]
Finished job 109.
46 of 124 steps (37%) done
Select jobs to execute...

[Fri Dec  6 18:20:31 2024]
rule correctPrimary:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.correct.fasta
    jobid: 11
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.correct.fasta
    wildcards: sample=horse_05_608
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_05_608       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.p_ctg.fa

    mv horse_05_608/ragtag.correct.fasta /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.correct.fasta
  
[Fri Dec  6 18:41:04 2024]
Finished job 11.
47 of 124 steps (38%) done
Select jobs to execute...

[Fri Dec  6 18:41:05 2024]
rule scaffoldPrimary:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.scaffold.fasta
    jobid: 10
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.correct.fasta
    wildcards: sample=horse_05_608
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_05_608       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.correct.fasta
  
Waiting at most 5 seconds for missing files.
MissingOutputException in rule scaffoldPrimary in file /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/hifi_assembly_analysis_phased.smk, line 265:
Job 10  completed successfully, but some output files are missing. Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
/group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608/horse_05_608.ragtag.scaffold.fasta
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-12-06T140419.463389.snakemake.log
