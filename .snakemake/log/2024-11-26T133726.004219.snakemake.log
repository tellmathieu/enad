Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=50000
Job stats:
job                    count
-------------------  -------
alignToFirstControl       10
all                        1
changeNCtoChr             12
compareSVs                 1
convertSamToBam           10
correct                   12
findSVs                   10
indexBam                  10
removeRagTag              12
sameChrNames              12
scaffold                  12
sortBam                   10
total                    112

Select jobs to execute...

[Tue Nov 26 13:37:27 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
    jobid: 102
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_03_238.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.hap1.p_ctg.fa
  
[Tue Nov 26 13:54:21 2024]
Finished job 102.
1 of 112 steps (1%) done
Select jobs to execute...

[Tue Nov 26 13:54:21 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
    jobid: 72
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_04_56.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap2.p_ctg.fa
  
[Tue Nov 26 14:10:30 2024]
Finished job 72.
2 of 112 steps (2%) done
Select jobs to execute...

[Tue Nov 26 14:10:30 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.correct.fasta
    jobid: 142
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.correct.fasta
    wildcards: sample=horse_02_205, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_02_205.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_02_205.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.hap1.p_ctg.fa
  
[Tue Nov 26 14:27:33 2024]
Finished job 142.
3 of 112 steps (3%) done
Select jobs to execute...

[Tue Nov 26 14:27:33 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta
    jobid: 112
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_03_238.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.hap2.p_ctg.fa
  
[Tue Nov 26 14:43:33 2024]
Finished job 112.
4 of 112 steps (4%) done
Select jobs to execute...

[Tue Nov 26 14:43:33 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta
    jobid: 152
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_02_205.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_02_205.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.hap2.p_ctg.fa
  
[Tue Nov 26 15:01:14 2024]
Finished job 152.
5 of 112 steps (4%) done
Select jobs to execute...

[Tue Nov 26 15:01:14 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta
    jobid: 82
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_06_1212.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_06_1212.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.hap1.p_ctg.fa
  
[Tue Nov 26 15:20:18 2024]
Finished job 82.
6 of 112 steps (5%) done
Select jobs to execute...

[Tue Nov 26 15:20:18 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.scaffold.fasta
    jobid: 141
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.correct.fasta
    wildcards: sample=horse_02_205, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_02_205.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_02_205.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.correct.fasta
  
[Tue Nov 26 15:36:00 2024]
Finished job 141.
7 of 112 steps (6%) done
Select jobs to execute...

[Tue Nov 26 15:36:00 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta
    jobid: 101
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_03_238.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.correct.fasta
  

[Tue Nov 26 15:36:00 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_rename.scaffold.fasta
    jobid: 140
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_02_205, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_rename.scaffold.fasta
  
[Tue Nov 26 15:36:14 2024]
Finished job 140.
8 of 112 steps (7%) done
Select jobs to execute...

[Tue Nov 26 15:36:14 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr.fa
    jobid: 139
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_rename.scaffold.fasta
    wildcards: sample=horse_02_205, phases=hap1
    resources: tmpdir=/tmp


    horse_02_205lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_02_205currentline=1
    while [ "$horse_02_205currentline" -le "$horse_02_205lines" ]
    do
      horse_02_205name=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_02_205name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr.fa
      horse_02_205currentline=$(($horse_02_205currentline+1))
    done
  
[Tue Nov 26 15:36:56 2024]
Finished job 139.
9 of 112 steps (8%) done
Select jobs to execute...

[Tue Nov 26 15:36:56 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_ref_chr_only.fa
    jobid: 138
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr.fa
    wildcards: sample=horse_02_205, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_ref_chr_only.fa
    horse_02_205lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_02_205currentline=1
    while [ "$horse_02_205currentline" -le "$horse_02_205lines" ]
    do
      horse_02_205chr=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_02_205nc=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_02_205nc}/${horse_02_205chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa
      horse_02_205currentline=$(($horse_02_205currentline+1))
    done
  
[Tue Nov 26 15:44:25 2024]
Finished job 138.
10 of 112 steps (9%) done
Select jobs to execute...
[Tue Nov 26 15:51:32 2024]
Finished job 101.
11 of 112 steps (10%) done

[Tue Nov 26 15:51:32 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta
    jobid: 100
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta
  

[Tue Nov 26 15:51:32 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
    jobid: 132
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_01_200.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.hap2.p_ctg.fa
  
[Tue Nov 26 15:51:46 2024]
Finished job 100.
12 of 112 steps (11%) done
Select jobs to execute...

[Tue Nov 26 15:51:46 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa
    jobid: 99
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp


    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238name=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_03_238name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Tue Nov 26 15:53:19 2024]
Finished job 99.
13 of 112 steps (12%) done
Select jobs to execute...

[Tue Nov 26 15:53:19 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_ref_chr_only.fa
    jobid: 98
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa
    wildcards: sample=horse_03_238, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_ref_chr_only.fa
    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238chr=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_03_238nc=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_03_238nc}/${horse_03_238chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Tue Nov 26 16:00:52 2024]
Finished job 98.
14 of 112 steps (12%) done
Select jobs to execute...
[Tue Nov 26 16:09:50 2024]
Finished job 132.
15 of 112 steps (13%) done

[Tue Nov 26 16:09:50 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.correct.fasta
    jobid: 92
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.correct.fasta
    wildcards: sample=horse_06_1212, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_06_1212.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_06_1212.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.hap2.p_ctg.fa
  
[Tue Nov 26 16:27:56 2024]
Finished job 92.
16 of 112 steps (14%) done
Select jobs to execute...

[Tue Nov 26 16:27:57 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.scaffold.fasta
    jobid: 91
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.correct.fasta
    wildcards: sample=horse_06_1212, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_06_1212.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_06_1212.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.correct.fasta
  
[Tue Nov 26 16:43:13 2024]
Finished job 91.
17 of 112 steps (15%) done
Select jobs to execute...

[Tue Nov 26 16:43:13 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta
    jobid: 131
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_01_200.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.correct.fasta
  

[Tue Nov 26 16:43:13 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_rename.scaffold.fasta
    jobid: 90
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_06_1212, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_rename.scaffold.fasta
  
[Tue Nov 26 16:43:26 2024]
Finished job 90.
18 of 112 steps (16%) done
Select jobs to execute...

[Tue Nov 26 16:43:26 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr.fa
    jobid: 89
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_rename.scaffold.fasta
    wildcards: sample=horse_06_1212, phases=hap2
    resources: tmpdir=/tmp


    horse_06_1212lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_06_1212currentline=1
    while [ "$horse_06_1212currentline" -le "$horse_06_1212lines" ]
    do
      horse_06_1212name=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_06_1212name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr.fa
      horse_06_1212currentline=$(($horse_06_1212currentline+1))
    done
  
[Tue Nov 26 16:44:11 2024]
Finished job 89.
19 of 112 steps (17%) done
Select jobs to execute...

[Tue Nov 26 16:44:11 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_ref_chr_only.fa
    jobid: 88
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr.fa
    wildcards: sample=horse_06_1212, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_ref_chr_only.fa
    horse_06_1212lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_06_1212currentline=1
    while [ "$horse_06_1212currentline" -le "$horse_06_1212lines" ]
    do
      horse_06_1212chr=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_06_1212nc=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_06_1212nc}/${horse_06_1212chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa
      horse_06_1212currentline=$(($horse_06_1212currentline+1))
    done
  
[Tue Nov 26 16:51:06 2024]
Finished job 88.
20 of 112 steps (18%) done
Select jobs to execute...
[Tue Nov 26 16:58:16 2024]
Finished job 131.
21 of 112 steps (19%) done

[Tue Nov 26 16:58:16 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta
    jobid: 71
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_04_56.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.correct.fasta
  

[Tue Nov 26 16:58:16 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta
    jobid: 130
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta
  
[Tue Nov 26 16:58:30 2024]
Finished job 130.
22 of 112 steps (20%) done
Select jobs to execute...

[Tue Nov 26 16:58:30 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa
    jobid: 129
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp


    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200name=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_01_200name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Tue Nov 26 16:59:12 2024]
Finished job 129.
23 of 112 steps (21%) done
Select jobs to execute...

[Tue Nov 26 16:59:12 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_ref_chr_only.fa
    jobid: 128
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa
    wildcards: sample=horse_01_200, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_ref_chr_only.fa
    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200chr=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_01_200nc=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_01_200nc}/${horse_01_200chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Tue Nov 26 17:06:21 2024]
Finished job 128.
24 of 112 steps (21%) done
Select jobs to execute...
[Tue Nov 26 17:13:09 2024]
Finished job 71.
25 of 112 steps (22%) done

[Tue Nov 26 17:13:09 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
    jobid: 57
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_04_56.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_56/horse_04_56.asm.bp.hap1.p_ctg.fa
  

[Tue Nov 26 17:13:09 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta
    jobid: 70
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta
  
[Tue Nov 26 17:13:22 2024]
Finished job 70.
26 of 112 steps (23%) done
Select jobs to execute...

[Tue Nov 26 17:13:22 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa
    jobid: 69
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp


    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56name=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_04_56name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Tue Nov 26 17:15:34 2024]
Finished job 69.
27 of 112 steps (24%) done
Select jobs to execute...

[Tue Nov 26 17:15:34 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_ref_chr_only.fa
    jobid: 68
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa
    wildcards: sample=horse_04_56, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_ref_chr_only.fa
    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56chr=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_04_56nc=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_04_56nc}/${horse_04_56chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Tue Nov 26 17:23:53 2024]
Finished job 68.
28 of 112 steps (25%) done
Select jobs to execute...
[Tue Nov 26 17:31:52 2024]
Finished job 57.
29 of 112 steps (26%) done

[Tue Nov 26 17:31:52 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta
    jobid: 56
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_04_56.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_04_56.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.correct.fasta
  
[Tue Nov 26 17:46:46 2024]
Finished job 56.
30 of 112 steps (27%) done
Select jobs to execute...

[Tue Nov 26 17:46:46 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta
    jobid: 55
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta
  

[Tue Nov 26 17:46:46 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta
    jobid: 111
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_03_238.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_03_238.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.correct.fasta
  
[Tue Nov 26 17:47:00 2024]
Finished job 55.
31 of 112 steps (28%) done
Select jobs to execute...

[Tue Nov 26 17:47:00 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa
    jobid: 54
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp


    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56name=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_04_56name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Tue Nov 26 17:48:27 2024]
Finished job 54.
32 of 112 steps (29%) done
Select jobs to execute...

[Tue Nov 26 17:48:27 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_ref_chr_only.fa
    jobid: 53
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa
    wildcards: sample=horse_04_56, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_ref_chr_only.fa
    horse_04_56lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_04_56currentline=1
    while [ "$horse_04_56currentline" -le "$horse_04_56lines" ]
    do
      horse_04_56chr=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_04_56nc=$(sed "${horse_04_56currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_04_56nc}/${horse_04_56chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa
      horse_04_56currentline=$(($horse_04_56currentline+1))
    done
  
[Tue Nov 26 17:56:22 2024]
Finished job 53.
33 of 112 steps (29%) done
Select jobs to execute...
[Tue Nov 26 18:01:35 2024]
Finished job 111.
34 of 112 steps (30%) done

[Tue Nov 26 18:01:35 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta
    jobid: 151
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_02_205.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_02_205.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.correct.fasta
  

[Tue Nov 26 18:01:35 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta
    jobid: 110
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta
  
[Tue Nov 26 18:01:48 2024]
Finished job 110.
35 of 112 steps (31%) done
Select jobs to execute...

[Tue Nov 26 18:01:48 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa
    jobid: 109
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp


    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238name=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_03_238name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Tue Nov 26 18:02:57 2024]
Finished job 109.
36 of 112 steps (32%) done
Select jobs to execute...

[Tue Nov 26 18:02:57 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_ref_chr_only.fa
    jobid: 108
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa
    wildcards: sample=horse_03_238, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_ref_chr_only.fa
    horse_03_238lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_03_238currentline=1
    while [ "$horse_03_238currentline" -le "$horse_03_238lines" ]
    do
      horse_03_238chr=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_03_238nc=$(sed "${horse_03_238currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_03_238nc}/${horse_03_238chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa
      horse_03_238currentline=$(($horse_03_238currentline+1))
    done
  
[Tue Nov 26 18:10:25 2024]
Finished job 108.
37 of 112 steps (33%) done
Select jobs to execute...
[Tue Nov 26 18:17:16 2024]
Finished job 151.
38 of 112 steps (34%) done

[Tue Nov 26 18:17:16 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta
    jobid: 150
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta
  

[Tue Nov 26 18:17:16 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.hap2.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta
    jobid: 67
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608.hap2/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_05_608.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.hap2.p_ctg.fa
  
[Tue Nov 26 18:17:30 2024]
Finished job 150.
39 of 112 steps (35%) done
Select jobs to execute...

[Tue Nov 26 18:17:30 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa
    jobid: 149
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp


    horse_02_205lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_02_205currentline=1
    while [ "$horse_02_205currentline" -le "$horse_02_205lines" ]
    do
      horse_02_205name=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_02_205name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa
      horse_02_205currentline=$(($horse_02_205currentline+1))
    done
  
[Tue Nov 26 18:19:05 2024]
Finished job 149.
40 of 112 steps (36%) done
Select jobs to execute...

[Tue Nov 26 18:19:05 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_ref_chr_only.fa
    jobid: 148
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa
    wildcards: sample=horse_02_205, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_ref_chr_only.fa
    horse_02_205lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_02_205currentline=1
    while [ "$horse_02_205currentline" -le "$horse_02_205lines" ]
    do
      horse_02_205chr=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_02_205nc=$(sed "${horse_02_205currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_02_205nc}/${horse_02_205chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa
      horse_02_205currentline=$(($horse_02_205currentline+1))
    done
  
[Tue Nov 26 18:25:59 2024]
Finished job 148.
41 of 112 steps (37%) done
Select jobs to execute...
[Tue Nov 26 18:36:27 2024]
Finished job 67.
42 of 112 steps (38%) done

[Tue Nov 26 18:36:27 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta
    jobid: 66
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608.hap2/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_05_608.hap2       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.correct.fasta
  
[Tue Nov 26 18:52:11 2024]
Finished job 66.
43 of 112 steps (38%) done
Select jobs to execute...

[Tue Nov 26 18:52:11 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta
    jobid: 65
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta
  

[Tue Nov 26 18:52:11 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta
    jobid: 122
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_01_200.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.hap1.p_ctg.fa
  
[Tue Nov 26 18:52:25 2024]
Finished job 65.
44 of 112 steps (39%) done
Select jobs to execute...

[Tue Nov 26 18:52:25 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa
    jobid: 64
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp


    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608name=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_05_608name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Tue Nov 26 18:53:07 2024]
Finished job 64.
45 of 112 steps (40%) done
Select jobs to execute...

[Tue Nov 26 18:53:07 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_ref_chr_only.fa
    jobid: 63
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa
    wildcards: sample=horse_05_608, phases=hap2
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_ref_chr_only.fa
    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608chr=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_05_608nc=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_05_608nc}/${horse_05_608chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Tue Nov 26 19:00:02 2024]
Finished job 63.
46 of 112 steps (41%) done
Select jobs to execute...
[Tue Nov 26 19:11:08 2024]
Finished job 122.
47 of 112 steps (42%) done

[Tue Nov 26 19:11:08 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam
    jobid: 62
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa
    wildcards: phases=hap2, comp_sample=horse_04_56
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap2/horse_04_56.hap2_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam
  
[Tue Nov 26 19:17:43 2024]
Finished job 62.
48 of 112 steps (43%) done
Select jobs to execute...

[Tue Nov 26 19:17:43 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta
    jobid: 121
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_01_200.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_01_200.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.correct.fasta
  

[Tue Nov 26 19:17:43 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam
    jobid: 61
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam
    wildcards: phases=hap2, comp_sample=horse_04_56
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.sam
  
[Tue Nov 26 19:18:39 2024]
Finished job 61.
49 of 112 steps (44%) done
Select jobs to execute...

[Tue Nov 26 19:18:39 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam
    jobid: 60
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam
    wildcards: phases=hap2, comp_sample=horse_04_56
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp.bam
  
[Tue Nov 26 19:20:09 2024]
Finished job 60.
50 of 112 steps (45%) done
Select jobs to execute...

[Tue Nov 26 19:20:09 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam.bai
    jobid: 73
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_04_56
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam
  
[Tue Nov 26 19:20:19 2024]
Finished job 73.
51 of 112 steps (46%) done
Select jobs to execute...
[Tue Nov 26 19:33:07 2024]
Finished job 121.
52 of 112 steps (46%) done

[Tue Nov 26 19:33:07 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam
    jobid: 107
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa
    wildcards: phases=hap2, comp_sample=horse_03_238
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap2/horse_03_238.hap2_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam
  

[Tue Nov 26 19:33:07 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta
    jobid: 120
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta
  
[Tue Nov 26 19:33:21 2024]
Finished job 120.
53 of 112 steps (47%) done
Select jobs to execute...

[Tue Nov 26 19:33:22 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa
    jobid: 119
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp


    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200name=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_01_200name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Tue Nov 26 19:34:04 2024]
Finished job 119.
54 of 112 steps (48%) done
Select jobs to execute...

[Tue Nov 26 19:34:04 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_ref_chr_only.fa
    jobid: 118
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa
    wildcards: sample=horse_01_200, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_ref_chr_only.fa
    horse_01_200lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_01_200currentline=1
    while [ "$horse_01_200currentline" -le "$horse_01_200lines" ]
    do
      horse_01_200chr=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_01_200nc=$(sed "${horse_01_200currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_01_200nc}/${horse_01_200chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa
      horse_01_200currentline=$(($horse_01_200currentline+1))
    done
  
[Tue Nov 26 19:39:44 2024]
Finished job 107.
55 of 112 steps (49%) done
Select jobs to execute...

[Tue Nov 26 19:39:44 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam
    jobid: 147
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa
    wildcards: phases=hap2, comp_sample=horse_02_205
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap2/horse_02_205.hap2_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam
  

[Tue Nov 26 19:39:44 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam
    jobid: 106
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam
    wildcards: phases=hap2, comp_sample=horse_03_238
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.sam
  
[Tue Nov 26 19:40:55 2024]
Finished job 106.
56 of 112 steps (50%) done
Select jobs to execute...

[Tue Nov 26 19:40:55 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam
    jobid: 105
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam
    wildcards: phases=hap2, comp_sample=horse_03_238
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp.bam
  
[Tue Nov 26 19:40:57 2024]
Finished job 118.
57 of 112 steps (51%) done
Select jobs to execute...
[Tue Nov 26 19:42:24 2024]
Finished job 105.
58 of 112 steps (52%) done

[Tue Nov 26 19:42:24 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam.bai
    jobid: 113
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_03_238
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam
  
[Tue Nov 26 19:42:34 2024]
Finished job 113.
59 of 112 steps (53%) done
Select jobs to execute...
[Tue Nov 26 19:46:19 2024]
Finished job 147.
60 of 112 steps (54%) done

[Tue Nov 26 19:46:19 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam
    jobid: 146
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam
    wildcards: phases=hap2, comp_sample=horse_02_205
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.sam
  

[Tue Nov 26 19:46:19 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2.snf
    jobid: 104
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam.bai
    wildcards: phases=hap2, comp_sample=horse_03_238
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2.snf
  
[Tue Nov 26 19:46:32 2024]
Finished job 104.
61 of 112 steps (54%) done
Select jobs to execute...

[Tue Nov 26 19:46:32 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2.snf
    jobid: 59
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam.bai, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_04_56
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2.snf
  
[Tue Nov 26 19:46:44 2024]
Finished job 59.
62 of 112 steps (55%) done
Select jobs to execute...

[Tue Nov 26 19:46:44 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta
    jobid: 81
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_06_1212.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_06_1212.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.correct.fasta
  
[Tue Nov 26 19:47:14 2024]
Finished job 146.
63 of 112 steps (56%) done
Select jobs to execute...

[Tue Nov 26 19:47:14 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam
    jobid: 145
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam
    wildcards: phases=hap2, comp_sample=horse_02_205
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp.bam
  
[Tue Nov 26 19:48:43 2024]
Finished job 145.
64 of 112 steps (57%) done
Select jobs to execute...

[Tue Nov 26 19:48:43 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam.bai
    jobid: 153
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_02_205
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam
  
[Tue Nov 26 19:48:52 2024]
Finished job 153.
65 of 112 steps (58%) done
Select jobs to execute...
[Tue Nov 26 20:02:18 2024]
Finished job 81.
66 of 112 steps (59%) done

[Tue Nov 26 20:02:18 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta
    jobid: 80
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta
  

[Tue Nov 26 20:02:18 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2.snf
    jobid: 144
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam.bai
    wildcards: phases=hap2, comp_sample=horse_02_205
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2.snf
  
[Tue Nov 26 20:02:31 2024]
Finished job 144.
67 of 112 steps (60%) done
Select jobs to execute...

[Tue Nov 26 20:02:31 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam
    jobid: 87
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa
    wildcards: phases=hap2, comp_sample=horse_06_1212
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap2/horse_06_1212.hap2_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam
  
[Tue Nov 26 20:02:32 2024]
Finished job 80.
68 of 112 steps (61%) done
Select jobs to execute...

[Tue Nov 26 20:02:32 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa
    jobid: 79
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp


    horse_06_1212lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_06_1212currentline=1
    while [ "$horse_06_1212currentline" -le "$horse_06_1212lines" ]
    do
      horse_06_1212name=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_06_1212name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa
      horse_06_1212currentline=$(($horse_06_1212currentline+1))
    done
  
[Tue Nov 26 20:03:14 2024]
Finished job 79.
69 of 112 steps (62%) done
Select jobs to execute...

[Tue Nov 26 20:03:14 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_ref_chr_only.fa
    jobid: 78
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa
    wildcards: sample=horse_06_1212, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_ref_chr_only.fa
    horse_06_1212lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_06_1212currentline=1
    while [ "$horse_06_1212currentline" -le "$horse_06_1212lines" ]
    do
      horse_06_1212chr=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_06_1212nc=$(sed "${horse_06_1212currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_06_1212nc}/${horse_06_1212chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa
      horse_06_1212currentline=$(($horse_06_1212currentline+1))
    done
  
[Tue Nov 26 20:09:23 2024]
Finished job 87.
70 of 112 steps (62%) done
Select jobs to execute...

[Tue Nov 26 20:09:23 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam
    jobid: 127
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa
    wildcards: phases=hap2, comp_sample=horse_01_200
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap2/horse_05_608.hap2_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap2/horse_01_200.hap2_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam
  

[Tue Nov 26 20:09:23 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam
    jobid: 86
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam
    wildcards: phases=hap2, comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.sam
  
[Tue Nov 26 20:10:15 2024]
Finished job 78.
71 of 112 steps (63%) done
Select jobs to execute...
[Tue Nov 26 20:10:32 2024]
Finished job 86.
72 of 112 steps (64%) done

[Tue Nov 26 20:10:32 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam
    jobid: 85
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam
    wildcards: phases=hap2, comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp.bam
  
[Tue Nov 26 20:12:02 2024]
Finished job 85.
73 of 112 steps (65%) done
Select jobs to execute...

[Tue Nov 26 20:12:02 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam.bai
    jobid: 93
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam
  
[Tue Nov 26 20:12:12 2024]
Finished job 93.
74 of 112 steps (66%) done
Select jobs to execute...
[Tue Nov 26 20:15:53 2024]
Finished job 127.
75 of 112 steps (67%) done

[Tue Nov 26 20:15:53 2024]
rule correct:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/busco.pdf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.hap1.p_ctg.fa, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta
    jobid: 10
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608.hap1/ragtag.correct.* 

    ragtag.py correct       -u       -o horse_05_608.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.hap1.p_ctg.fa
  

[Tue Nov 26 20:15:53 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam
    jobid: 126
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam
    wildcards: phases=hap2, comp_sample=horse_01_200
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.sam
  
[Tue Nov 26 20:16:47 2024]
Finished job 126.
76 of 112 steps (68%) done
Select jobs to execute...

[Tue Nov 26 20:16:47 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam
    jobid: 125
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam
    wildcards: phases=hap2, comp_sample=horse_01_200
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp.bam
  
[Tue Nov 26 20:18:16 2024]
Finished job 125.
77 of 112 steps (69%) done
Select jobs to execute...

[Tue Nov 26 20:18:16 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam.bai
    jobid: 133
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_01_200
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam
  
[Tue Nov 26 20:18:25 2024]
Finished job 133.
78 of 112 steps (70%) done
Select jobs to execute...
[Tue Nov 26 20:34:18 2024]
Finished job 10.
79 of 112 steps (71%) done

[Tue Nov 26 20:34:18 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2.snf
    jobid: 84
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam.bai, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam
    wildcards: phases=hap2, comp_sample=horse_06_1212
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2.snf
  
[Tue Nov 26 20:34:31 2024]
Finished job 84.
80 of 112 steps (71%) done
Select jobs to execute...

[Tue Nov 26 20:34:31 2024]
rule scaffold:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta, /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta
    jobid: 9
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    # this ensures that all the code for this step is run again
    rm -f horse_05_608.hap1/ragtag.scaffold.*

    ragtag.py scaffold       -u       -o horse_05_608.hap1       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.correct.fasta
  
[Tue Nov 26 20:49:47 2024]
Finished job 9.
81 of 112 steps (72%) done
Select jobs to execute...

[Tue Nov 26 20:49:47 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2.snf
    jobid: 124
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam.bai
    wildcards: phases=hap2, comp_sample=horse_01_200
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2.snf
  

[Tue Nov 26 20:49:47 2024]
rule removeRagTag:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta
    jobid: 8
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp


    sed 's/_RagTag//' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/ragtag.scaffold.fasta > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta
  
[Tue Nov 26 20:50:00 2024]
Finished job 124.
82 of 112 steps (73%) done
[Tue Nov 26 20:50:01 2024]
Finished job 8.
83 of 112 steps (74%) done
Select jobs to execute...

[Tue Nov 26 20:50:01 2024]
rule sameChrNames:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/cleaned_ref_genome.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa
    jobid: 7
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp


    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608name=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      grep -A1 "${horse_05_608name}" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_rename.scaffold.fasta >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Tue Nov 26 20:50:42 2024]
Finished job 7.
84 of 112 steps (75%) done
Select jobs to execute...

[Tue Nov 26 20:50:42 2024]
rule changeNCtoChr:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_ref_chr_only.fa
    jobid: 6
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa
    wildcards: sample=horse_05_608, phases=hap1
    resources: tmpdir=/tmp


    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
    cp /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/reference_genome_chr_only.fa /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_ref_chr_only.fa
    horse_05_608lines=$(wc -l /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
    horse_05_608currentline=1
    while [ "$horse_05_608currentline" -le "$horse_05_608lines" ]
    do
      horse_05_608chr=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $1 }')
      horse_05_608nc=$(sed "${horse_05_608currentline}q;d" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/resources/chr.accesssion.list.txt | awk '{ print $2 }')
      sed -i "s/${horse_05_608nc}/${horse_05_608chr}/g" /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
      horse_05_608currentline=$(($horse_05_608currentline+1))
    done
  
[Tue Nov 26 20:57:25 2024]
Finished job 6.
85 of 112 steps (76%) done
Select jobs to execute...

[Tue Nov 26 20:57:26 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam
    jobid: 77
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
    wildcards: phases=hap1, comp_sample=horse_06_1212
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_06_1212.hap1/horse_06_1212.hap1_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam
  
[Tue Nov 26 21:04:18 2024]
Finished job 77.
86 of 112 steps (77%) done
Select jobs to execute...

[Tue Nov 26 21:04:18 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam
    jobid: 5
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa
    wildcards: phases=hap1, comp_sample=horse_04_56
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_04_56.hap1/horse_04_56.hap1_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam
  

[Tue Nov 26 21:04:18 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam
    jobid: 76
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam
    wildcards: phases=hap1, comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.sam
  
[Tue Nov 26 21:05:14 2024]
Finished job 76.
87 of 112 steps (78%) done
Select jobs to execute...

[Tue Nov 26 21:05:14 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam
    jobid: 75
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam
    wildcards: phases=hap1, comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp.bam
  
[Tue Nov 26 21:06:45 2024]
Finished job 75.
88 of 112 steps (79%) done
Select jobs to execute...

[Tue Nov 26 21:06:45 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam.bai
    jobid: 83
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam
    wildcards: phases=hap1, comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam
  
[Tue Nov 26 21:06:55 2024]
Finished job 83.
89 of 112 steps (79%) done
Select jobs to execute...
[Tue Nov 26 21:10:43 2024]
Finished job 5.
90 of 112 steps (80%) done

[Tue Nov 26 21:10:43 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1.snf
    jobid: 74
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam.bai
    wildcards: phases=hap1, comp_sample=horse_06_1212
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1.snf
  

[Tue Nov 26 21:10:43 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam
    jobid: 4
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam
    wildcards: phases=hap1, comp_sample=horse_04_56
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.sam
  
[Tue Nov 26 21:10:55 2024]
Finished job 74.
91 of 112 steps (81%) done
Select jobs to execute...

[Tue Nov 26 21:10:55 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam
    jobid: 97
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
    wildcards: phases=hap1, comp_sample=horse_03_238
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_03_238.hap1/horse_03_238.hap1_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam
  
[Tue Nov 26 21:11:37 2024]
Finished job 4.
92 of 112 steps (82%) done
Select jobs to execute...

[Tue Nov 26 21:11:37 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam
    jobid: 3
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam
    wildcards: phases=hap1, comp_sample=horse_04_56
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp.bam
  
[Tue Nov 26 21:13:05 2024]
Finished job 3.
93 of 112 steps (83%) done
Select jobs to execute...

[Tue Nov 26 21:13:05 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam.bai
    jobid: 58
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam
    wildcards: phases=hap1, comp_sample=horse_04_56
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam
  
[Tue Nov 26 21:13:15 2024]
Finished job 58.
94 of 112 steps (84%) done
Select jobs to execute...
[Tue Nov 26 21:17:39 2024]
Finished job 97.
95 of 112 steps (85%) done

[Tue Nov 26 21:17:39 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam
    jobid: 117
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
    wildcards: phases=hap1, comp_sample=horse_01_200
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_01_200.hap1/horse_01_200.hap1_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam
  

[Tue Nov 26 21:17:39 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam
    jobid: 96
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam
    wildcards: phases=hap1, comp_sample=horse_03_238
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.sam
  
[Tue Nov 26 21:18:35 2024]
Finished job 96.
96 of 112 steps (86%) done
Select jobs to execute...

[Tue Nov 26 21:18:36 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam
    jobid: 95
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam
    wildcards: phases=hap1, comp_sample=horse_03_238
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp.bam
  
[Tue Nov 26 21:20:06 2024]
Finished job 95.
97 of 112 steps (87%) done
Select jobs to execute...

[Tue Nov 26 21:20:06 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam.bai
    jobid: 103
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam
    wildcards: phases=hap1, comp_sample=horse_03_238
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam
  
[Tue Nov 26 21:20:16 2024]
Finished job 103.
98 of 112 steps (88%) done
Select jobs to execute...
[Tue Nov 26 21:24:02 2024]
Finished job 117.
99 of 112 steps (88%) done

[Tue Nov 26 21:24:02 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam
    jobid: 116
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam
    wildcards: phases=hap1, comp_sample=horse_01_200
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.sam
  

[Tue Nov 26 21:24:02 2024]
rule alignToFirstControl:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam
    jobid: 137
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa
    wildcards: phases=hap1, comp_sample=horse_02_205
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles

    minimap2       -a       -x map-hifi       --eqx       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_05_608.hap1/horse_05_608.hap1_scaffold_chr_only.fa       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/horse_02_205.hap1/horse_02_205.hap1_scaffold_chr_only.fa       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam
  
[Tue Nov 26 21:24:55 2024]
Finished job 116.
100 of 112 steps (89%) done
Select jobs to execute...

[Tue Nov 26 21:24:55 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam
    jobid: 115
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam
    wildcards: phases=hap1, comp_sample=horse_01_200
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp.bam
  
[Tue Nov 26 21:26:23 2024]
Finished job 115.
101 of 112 steps (90%) done
Select jobs to execute...

[Tue Nov 26 21:26:23 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam.bai
    jobid: 123
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam
    wildcards: phases=hap1, comp_sample=horse_01_200
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam
  
[Tue Nov 26 21:26:33 2024]
Finished job 123.
102 of 112 steps (91%) done
Select jobs to execute...
[Tue Nov 26 21:30:51 2024]
Finished job 137.
103 of 112 steps (92%) done

[Tue Nov 26 21:30:51 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1.snf
    jobid: 2
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam.bai
    wildcards: phases=hap1, comp_sample=horse_04_56
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1.snf
  

[Tue Nov 26 21:30:51 2024]
rule convertSamToBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam
    jobid: 136
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam
    wildcards: phases=hap1, comp_sample=horse_02_205
    resources: tmpdir=/tmp


    samtools view -S -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.sam
  
[Tue Nov 26 21:31:04 2024]
Finished job 2.
104 of 112 steps (93%) done
Select jobs to execute...

[Tue Nov 26 21:31:04 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1.snf
    jobid: 114
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam.bai
    wildcards: phases=hap1, comp_sample=horse_01_200
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1.snf
  
[Tue Nov 26 21:31:16 2024]
Finished job 114.
105 of 112 steps (94%) done
Select jobs to execute...

[Tue Nov 26 21:31:16 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1.snf
    jobid: 94
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam.bai, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam
    wildcards: phases=hap1, comp_sample=horse_03_238
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1.snf
  
[Tue Nov 26 21:31:28 2024]
Finished job 94.
106 of 112 steps (95%) done
[Tue Nov 26 21:31:47 2024]
Finished job 136.
107 of 112 steps (96%) done
Select jobs to execute...

[Tue Nov 26 21:31:47 2024]
rule sortBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam
    jobid: 135
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam
    wildcards: phases=hap1, comp_sample=horse_02_205
    resources: tmpdir=/tmp


    samtools sort -o /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam
    rm /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp.bam
  
[Tue Nov 26 21:33:20 2024]
Finished job 135.
108 of 112 steps (96%) done
Select jobs to execute...

[Tue Nov 26 21:33:20 2024]
rule indexBam:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam.bai
    jobid: 143
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam.bai; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam
    wildcards: phases=hap1, comp_sample=horse_02_205
    resources: tmpdir=/tmp


    samtools index -b /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam
  
[Tue Nov 26 21:33:30 2024]
Finished job 143.
109 of 112 steps (97%) done
Select jobs to execute...

[Tue Nov 26 21:33:30 2024]
rule findSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam.bai
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1.snf
    jobid: 134
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1.snf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam.bai
    wildcards: phases=hap1, comp_sample=horse_02_205
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1_comp_sorted.bam       --snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1.snf
  
[Tue Nov 26 21:33:43 2024]
Finished job 134.
110 of 112 steps (98%) done
Select jobs to execute...

[Tue Nov 26 21:33:43 2024]
rule compareSVs:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2.snf
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/phasedSVs.vcf
    jobid: 1
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/phasedSVs.vcf; Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1.snf, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2.snf
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    sniffles       --input /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_04_56.hap1.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_04_56.hap2.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_06_1212.hap1.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_06_1212.hap2.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_03_238.hap1.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_03_238.hap2.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_01_200.hap1.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_01_200.hap2.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap1_horse_02_205.hap1.snf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/horse_05_608.hap2_horse_02_205.hap2.snf       --vcf /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/phasedSVs.vcf
  
[Tue Nov 26 21:33:50 2024]
Finished job 1.
111 of 112 steps (99%) done
Select jobs to execute...

[Tue Nov 26 21:33:50 2024]
localrule all:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/phasedSVs.vcf
    jobid: 0
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/sniffles/phasedSVs.vcf
    resources: tmpdir=/tmp

[Tue Nov 26 21:33:50 2024]
Finished job 0.
112 of 112 steps (100%) done
Complete log: .snakemake/log/2024-11-26T133726.004219.snakemake.log
