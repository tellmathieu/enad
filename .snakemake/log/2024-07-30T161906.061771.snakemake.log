Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                      count
---------------------  -------
all                          1
create_coverage_table        1
total                        2

Select jobs to execute...
Execute 1 jobs...

[Tue Jul 30 16:19:06 2024]
localrule create_coverage_table:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.p_ctg.fa
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.length.csv
    jobid: 21
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.length.csv
    wildcards: sample=horse_01_200
    resources: tmpdir=/tmp


    #create csv file with headers
    echo "line,length,type,coverage" > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.length.csv
    
    #subcommand
    LEN1=`bioawk -c fastx '{sum+=length($seq)}END{print sum}' /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.p_ctg.fa`
    
    #adding length lines to csv we created
    cat /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.p_ctg.fa | bioawk -c fastx -v line="HIFI" '{print line","length($seq)","length ($seq)}' | sort -k3rV -t "," | awk -F "," -v len="$LEN1" -v type="contig" 'OFS=","{print $1,$2,type,(sum+0)/len; sum+=$3 }' >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.length.csv
  
[Tue Jul 30 16:19:45 2024]
Finished job 21.
1 of 2 steps (50%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Jul 30 16:19:45 2024]
localrule all:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.p_ctg.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_238/horse_04_238.asm.bp.p_ctg.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.p_ctg.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.p_ctg.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.p_ctg.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.p_ctg.fa, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.asm.bp.p_ctg.fa.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_238/horse_04_238.asm.bp.p_ctg.fa.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.asm.bp.p_ctg.fa.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.asm.bp.p_ctg.fa.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.asm.bp.p_ctg.fa.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.asm.bp.p_ctg.fa.txt, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_03_238/horse_03_238.length.csv, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_04_238/horse_04_238.length.csv, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.length.csv, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_06_1212/horse_06_1212.length.csv, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_05_608/horse_05_608.length.csv, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_02_205/horse_02_205.length.csv
    jobid: 0
    reason: Input files updated by another job: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/outputGenomes/horse_01_200/horse_01_200.length.csv
    resources: tmpdir=/tmp

[Tue Jul 30 16:19:45 2024]
Finished job 0.
2 of 2 steps (100%) done
Complete log: .snakemake/log/2024-07-30T161906.061771.snakemake.log
