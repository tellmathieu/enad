Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=50000
Job stats:
job                                    count
-----------------------------------  -------
alignFastQToReference                      6
alignToChainOfGenomes                      5
all                                        1
convertSamToBamSortIndex                   6
coverageStats                              6
coverageStatsInitial                       6
plotStructuralRearrangementCombined       32
syntenyAnalysisForCombined                 5
total                                     67

Select jobs to execute...

[Fri Feb 28 18:17:42 2025]
rule coverageStats:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56.primary_compto5_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56_statsDone.txt
    jobid: 155
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56_statsDone.txt
    wildcards: comp_sample=horse_04_56
    resources: tmpdir=/tmp


    cov=$(samtools depth -a /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56.primary_compto5_sorted.bam | awk '{sum+=$3} END {print sum/NR}') 
    bamstatshorse_04_56=$(bamtools stats -in /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56.primary_compto5_sorted.bam)
    echo horse_04_56	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo $bamstatshorse_04_56 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo horse_04_56	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56_statsDone.txt
    echo $bamstatshorse_04_56 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_04_56_statsDone.txt
  

[Fri Feb 28 18:17:42 2025]
rule coverageStats:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238.primary_compto5_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238_statsDone.txt
    jobid: 157
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238_statsDone.txt
    wildcards: comp_sample=horse_03_238
    resources: tmpdir=/tmp


    cov=$(samtools depth -a /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238.primary_compto5_sorted.bam | awk '{sum+=$3} END {print sum/NR}') 
    bamstatshorse_03_238=$(bamtools stats -in /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238.primary_compto5_sorted.bam)
    echo horse_03_238	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo $bamstatshorse_03_238 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo horse_03_238	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238_statsDone.txt
    echo $bamstatshorse_03_238 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_03_238_statsDone.txt
  

[Fri Feb 28 18:17:42 2025]
rule coverageStats:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205.primary_compto5_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205_statsDone.txt
    jobid: 159
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205_statsDone.txt
    wildcards: comp_sample=horse_02_205
    resources: tmpdir=/tmp


    cov=$(samtools depth -a /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205.primary_compto5_sorted.bam | awk '{sum+=$3} END {print sum/NR}') 
    bamstatshorse_02_205=$(bamtools stats -in /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205.primary_compto5_sorted.bam)
    echo horse_02_205	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo $bamstatshorse_02_205 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo horse_02_205	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205_statsDone.txt
    echo $bamstatshorse_02_205 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_02_205_statsDone.txt
  

[Fri Feb 28 18:17:42 2025]
rule alignFastQToReference:
    input: /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/fastq/horse_06_1212.fastq
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign/horse_06_1212.sam
    jobid: 171
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign/horse_06_1212.sam
    wildcards: sample=horse_06_1212
    resources: tmpdir=/tmp, mem_mb=50000, mem_mib=47684


    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign

    minimap2       -a       -x map-hifi       --eqx       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/fastq/horse_06_1212.fastq       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign/horse_06_1212.sam
  

[Fri Feb 28 18:17:42 2025]
rule coverageStats:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212.primary_compto5_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212_statsDone.txt
    jobid: 156
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212_statsDone.txt
    wildcards: comp_sample=horse_06_1212
    resources: tmpdir=/tmp


    cov=$(samtools depth -a /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212.primary_compto5_sorted.bam | awk '{sum+=$3} END {print sum/NR}') 
    bamstatshorse_06_1212=$(bamtools stats -in /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212.primary_compto5_sorted.bam)
    echo horse_06_1212	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo $bamstatshorse_06_1212 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo horse_06_1212	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212_statsDone.txt
    echo $bamstatshorse_06_1212 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_06_1212_statsDone.txt
  

[Fri Feb 28 18:17:42 2025]
rule coverageStats:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200.primary_compto5_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200_statsDone.txt
    jobid: 158
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200_statsDone.txt
    wildcards: comp_sample=horse_01_200
    resources: tmpdir=/tmp


    cov=$(samtools depth -a /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200.primary_compto5_sorted.bam | awk '{sum+=$3} END {print sum/NR}') 
    bamstatshorse_01_200=$(bamtools stats -in /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200.primary_compto5_sorted.bam)
    echo horse_01_200	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo $bamstatshorse_01_200 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo horse_01_200	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200_statsDone.txt
    echo $bamstatshorse_01_200 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_01_200_statsDone.txt
  

[Fri Feb 28 18:17:42 2025]
rule coverageStats:
    input: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608.primary_compto5_sorted.bam
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608_statsDone.txt
    jobid: 151
    reason: Missing output files: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608_statsDone.txt
    wildcards: comp_sample=horse_05_608
    resources: tmpdir=/tmp


    cov=$(samtools depth -a /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608.primary_compto5_sorted.bam | awk '{sum+=$3} END {print sum/NR}') 
    bamstatshorse_05_608=$(bamtools stats -in /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608.primary_compto5_sorted.bam)
    echo horse_05_608	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo $bamstatshorse_05_608 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/coverageStatsComp5.txt
    echo horse_05_608	coverage>	${cov} >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608_statsDone.txt
    echo $bamstatshorse_05_608 >> /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/snifflesPrimary/horse_05_608_statsDone.txt
  
[Fri Feb 28 18:43:40 2025]
Finished job 159.
1 of 67 steps (1%) done
Select jobs to execute...
[Fri Feb 28 18:43:56 2025]
Finished job 155.
2 of 67 steps (3%) done
[Fri Feb 28 18:44:29 2025]
Finished job 151.
3 of 67 steps (4%) done
[Fri Feb 28 18:44:58 2025]
Finished job 156.
4 of 67 steps (6%) done
[Fri Feb 28 18:45:18 2025]
Finished job 158.
5 of 67 steps (7%) done
[Fri Feb 28 18:45:38 2025]
Finished job 157.
6 of 67 steps (9%) done
[Fri Feb 28 21:25:59 2025]
Error in rule alignFastQToReference:
    jobid: 171
    input: /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna, /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/fastq/horse_06_1212.fastq
    output: /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign/horse_06_1212.sam
    shell:
        
    mkdir -p /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign

    minimap2       -a       -x map-hifi       --eqx       /home/tmathieu/eNAD/resources/GCF_002863925.1_EquCab3.0_genomic.fna       /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/fastq/horse_06_1212.fastq       > /group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign/horse_06_1212.sam
  
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job alignFastQToReference since they might be corrupted:
/group/ctbrowngrp/finnolab_shared/eNAD_PacBio/refAlign/horse_06_1212.sam
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-02-28T181739.019730.snakemake.log
